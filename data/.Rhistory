pacman::p_load(tidyverse, truncnorm)
?rtruncnorm
policy_a = rep(0, times = 30000)
a <- rtruncnorm(30000, a = 4, b = 10, mean = 7.8, sd = 1)
b <- rtruncnorm(30000, a = 4, b = 10, mean = 8.0, sd = 1)
gpa <- c(a, b)
policy_a <- rep(0, times = 30000)
policy_b <- rep(1, times = 30000)
policy <- c(a, b)
tibble(
gpa = gpa,
policy = policy
)
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
geom_histogram(aes(color = policy))
ggplot(gpa_data aes(x = gpa)) +
geom_histogram(aes(color = policy))
ggplot(gpa_data aes(x = gpa)) +
geom_histogram(color = policy)
ggplot(gpa_data, aes(x = gpa)) +
geom_histogram(color = policy)
ggplot(gpa_data, aes(x = gpa)) +
geom_histogram(aes(color = policy))
ggplot(gpa_data, aes(x = gpa)) +
geom_histogram(color = policy)
ggplot(gpa_data, aes(x = gpa)) +
geom_histogram(aes(color = policy))
ggplot(gpa_data, aes(x = gpa)) +
geom_histogram(aes(fill = policy))
geom_histogram(aes()
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(aes())
ggplot(gpa_data, aes(x = gpa, fill = cond)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, color = policy, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "dodge")
head(gpa_data)
policy <- c(policy_a, policy_b)
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
policy_a <- rep(0, times = 30000)
policy_b <- rep(1, times = 30000)
policy <- c(policy_a, policy_b)
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
a <- rtruncnorm(30000, a = 4, b = 10, mean = 7.8, sd = 1)
b <- rtruncnorm(30000, a = 4, b = 10, mean = 8.0, sd = 1)
gpa <- c(a, b)
policy_a <- rep(0, times = 30000)
policy_b <- rep(1, times = 30000)
policy <- c(policy_a, policy_b)
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
head(gpa_data)
View(gpa_data)
ggplot(gpa_data, aes(x = gpa, color = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, color = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, color = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity") +
facet_wrap(~ policy)
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity") +
facet_wrap(~ policy)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity") +
facet_wrap(~ policy)
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.4,
position = "identity")
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
gpa_data %>%
group_by(gpa < 7.9) %>%
count(policy)
gpa_data %>%
group_by(gpa < 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9 <- gpa_data %>%
group_by(gpa < 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_8.5
by_8.5[4, 3] - by_7.0[3, 3]
by_8.5[4, 3]
by_7.0[3, 3]
by_8.5[4, 3] - by_8.5[3, 3]
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_8.5
by_8.5[4, 3] - by_8.5[3, 3]
by_7.9[4, 3] - by_7.9[3, 3]
by_7.0[4, 3] - by_7.0[3, 3]
by_8.5[4, 3] - by_8.5[3, 3]
1577 / 60000
2291 / 60000
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
diff_7.0 <- by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
by_8.5
diff
diff_7.0
diff_7.9
diff_8.5
diff_7.0 / length(gpa_data)
diff_7.0 /
length(gpa_data)
length(gpa_data)
wt(gpa_data)
tally(gpa_data)
diff_7.0 / tally(gpa_data)
diff_7.9 / tally(gpa_data)
?tally
diff_7.0 / nrow(gpa_data)
diff_7.9 / nrow(gpa_data)
nrow(gpa_data)
diff_7.0 / nrow(gpa_data) # max percentage difference in policies
diff_7.9 / nrow(gpa_data) # max percentage difference in policies
a <- rtruncnorm(30000, a = 4, b = 10, mean = 7.5, sd = 1)
b <- rtruncnorm(30000, a = 4, b = 10, mean = 8.0, sd = 1)
gpa <- c(a, b)
policy_a <- rep(0, times = 30000)
policy_b <- rep(1, times = 30000)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
# kuva jakaumista
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
# keskiarvorajojen mukaiset erot polivy a ja b ryhmien koossa
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
diff_7.0 <- by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
diff_7.0
diff_7.9
diff_8.5
diff_7.0 / nrow(gpa_data) # max percentage difference in policies
diff_7.9 / nrow(gpa_data) # max percentage difference in policies
a <- rtruncnorm(2000, a = 4, b = 10, mean = 7.8, sd = 1)
b <- rtruncnorm(2000, a = 4, b = 10, mean = 8.0, sd = 1)
gpa <- c(a, b)
policy_a <- rep(0, times = 30000)
policy_b <- rep(1, times = 30000)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
# kuva jakaumista
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
# keskiarvorajojen mukaiset erot polivy a ja b ryhmien koossa
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
diff_7.0 <- by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
diff_7.0
diff_7.9
diff_8.5
diff_7.0 / nrow(gpa_data) # max percentage difference in policies
diff_7.9 / nrow(gpa_data) # max percentage difference in policies
a <- rtruncnorm(2000, a = 4, b = 10, mean = 7.8, sd = 1)
b <- rtruncnorm(2000, a = 4, b = 10, mean = 8.0, sd = 1)
gpa <- c(a, b)
policy_a <- rep(0, times = 30000)
policy_a <- rep(0, times = 2000)
policy_b <- rep(1, times = 2000)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
# kuva jakaumista
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
# keskiarvorajojen mukaiset erot polivy a ja b ryhmien koossa
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / 30000)
by_7.0
# keskiarvorajojen mukaiset erot polivy a ja b ryhmien koossa
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_7.0
diff_7.0 <- by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
diff_7.0
diff_7.9
diff_8.5
diff_7.0 / nrow(gpa_data) # max percentage difference in policies
diff_7.9 / nrow(gpa_data) # max percentage difference in policies
n_obs <- 25000
n_obs <- 25000
a <- rtruncnorm(n_obs, a = 4, b = 10, mean = 7.8, sd = 1)
b <- rtruncnorm(n_obs, a = 4, b = 10, mean = 8.0, sd = 1)
gpa <- c(a, b)
policy_a <- rep(0, times = n_obs)
policy_b <- rep(1, times = n_obs)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
# kuva jakaumista
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
# keskiarvorajojen mukaiset erot polivy a ja b ryhmien koossa
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_7.0
diff_7.0 <- by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
diff_7.0
diff_7.9
diff_8.5
diff_7.0 / nrow(gpa_data) # max percentage difference in policies
diff_7.9 / nrow(gpa_data) # max percentage difference in policies
policy_a <- rep("policy_a", times = n_obs)
policy_b <- rep("policy_a", times = n_obs)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
# kuva jakaumista
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
policy_b <- rep("policy_ab", times = n_obs)
policy_b <- rep("policy_b", times = n_obs)
policy <- factor(c(policy_a, policy_b))
gpa_data <- tibble(
gpa = gpa,
policy = policy
)
# kuva jakaumista
ggplot(gpa_data, aes(x = gpa, fill = policy)) +
geom_histogram(binwidth = 0.25,
alpha = 0.5,
position = "identity")
# keskiarvorajojen mukaiset erot polivy a ja b ryhmien koossa
by_7.9 <- gpa_data %>%
group_by(gpa > 7.9) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_7.9
diff_7.9 <- by_7.9[4, 3] - by_7.9[3, 3]
by_7.0 <- gpa_data %>%
group_by(gpa > 7.0) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_7.0
diff_7.0 <- by_7.0[4, 3] - by_7.0[3, 3]
by_8.5 <- gpa_data %>%
group_by(gpa > 8.5) %>%
count(policy) %>%
mutate(percentage = n / nrow(gpa_data))
by_8.5
diff_8.5  <- by_8.5[4, 3] - by_8.5[3, 3]
diff_7.0
diff_7.9
diff_8.5
diff_7.0 / nrow(gpa_data) # max percentage difference in policies
install.packages("pxweb")
library(pxweb)
pxweb::interactive_pxweb(api = 'pxnet2.stat.fi')
setwd("~/GitHub/IODS-project/data")
read.table("learning.txt")
read.table("learning2014.txt")
setwd("~/GitHub/IODS-project/data")
read.table("learning2014.txt")
setwd("~/GitHub/IODS-project/data")
read.table("learning2014.txt")
?read.table
read.table("learning2014.txt")
read.table("learning2014.txt")
read.table("learning2014.txt")
read.table("data/learning2014.txt")
regr_analysis <- read.table("data/learning2014.txt")
library(tidyverse)
wrangling <- as.tibble(read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt",
sep="\t", header=TRUE))
wrangling
str(wrangling)
# Computing the variables,
# filtering those with 0 from Points, and
# selecting variables
d_analysis <- wrangling %>%
mutate(deep = (D03 + D11 + D19 + D27 + D07 +
D14 + D22 + D30 + D06 + D15 + D23 + D31) / 12,
stra = (ST01 + ST09 + ST17 + ST25 +
ST04 + ST12 + ST20 + ST28) / 8,
surf = (SU02 + SU10 + SU18 + SU26 +
SU05 + SU13 + SU21 + SU29 + SU08 +
SU16 + SU24 + SU32) / 12) %>%
filter(Points != 0) %>%
select(gender, Age, Attitude, deep, stra, surf, Points)
d_analysis
# Saving the data
write.table(d_analysis, file = "learning2014.txt")
# Reading the data to see it works
read.table("learning2014.txt")
regr_analysis <- read.table("data/learning2014.txt")
regr_analysis <- as_tibble(read.table("data/learning2014.txt"))
install.packages("GGally")
install.packages("GGally")
library(GGally)
ggpairs(regr_analysis, mapping = aes(alpha = 0.3),
lower = list(combo = wrap("facethist", bins = 20)))
